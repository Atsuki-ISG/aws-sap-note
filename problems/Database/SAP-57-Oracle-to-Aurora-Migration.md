---
id: "SAP-57"
title: "Oracle to Aurora Migration"
related_note: "../../notes/Database/SAP-57-Oracle-to-Aurora-Migration.md"
---

# Problem Statement

【SAP-57】 ある映像配信会社は、外部コンテンツプロバイダから受領したキーワードを用い、Webサイトとモバイルアプリ上でビデオおよび関連メタデータを高速検索するサービスを提供している。
ピーク時には毎秒数千件の検索リクエストが発生し、停止は広告収益に直結する。
同社は高額な Oracle ライセンス費用を削減し、将来的なデータ増加に備えるため、サイズ 800 GB のオンプレミス Oracle データベースを Amazon Aurora MySQL へ移行すると決定した。
AWS SCT と AWS DMS を利用する方針は承認済みであり、移行期間中も Oracle 側で読み書きを継続しながら、切り替え時のダウンタイムを数分以内に抑えることが運用条件となっている。
技術要件としてはスキーマ差異の自動変換と本番稼働中の継続的レプリケーションが必須で、ビジネス上は追加開発と担当者工数を極小化したい。
ソリューションアーキテクトはインフラ設計の観点からどの移行アプローチを採用すべきか。
最も適切な選択肢はどれか？

# Options

A. AWS SCT で Oracle から Aurora MySQL へのスキーマ変換評価レポートを実行し、必要な修正を反映したうえで AWS DMS によるフルロード＋継続レプリケーションのタスクを作成してデータを移行する。
B. 移行前に Aurora MySQL 側で全テーブルのプライマリキー・セカンダリインデックス・外部キー制約をすべて手動で作成してから DMS を実行し、フルロード中も可能な限り多くの制約チェックを有効にした状態で継続レプリケーションを行う設計とする。
C. 継続レプリケーション用に小さい汎用インスタンスを使用し、ネットワーク帯域と CPU 使用率に応じて DMS レプリケーションインスタンスをスケールアップ・ダウンするように設定する。
D. 移行とカットオーバーが完了するまで Aurora クラスタの自動バックアップとエラーログ出力をオフにしておき、パフォーマンスへの影響を避ける。

# Answer
A
